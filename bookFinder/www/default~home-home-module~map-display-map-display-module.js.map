{"version":3,"sources":["webpack:///./src/app/map-display/map-display.page.html","webpack:///./src/app/map-display/map-display.page.scss","webpack:///./src/app/map-display/map-display.page.ts"],"names":[],"mappings":"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","file":"default~home-home-module~map-display-map-display-module.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button id = \\\"backButton\\\" defaultHref=\\\"home\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>TCNJ Book Finder</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content padding style=\\\"white-space: pre-wrap\\\">\\r\\n\\r\\n   \\r\\n<!--pinch-zoom width=\\\"100%\\\" height = \\\"50%\\\">\\r\\n<div id = \\\"canvasContainer\\\" style = \\\"background-color: #ffffff; height: auto\\\"> \\r\\n</div>\\r\\n</pinch-zoom-->\\r\\n\\r\\n<!--pinch-zoom [limit-zoom]=\\\"4\\\">\\r\\n\\t<img src=\\\"https://images.unsplash.com/photo-1444927714506-8492d94b4e3d\\\" />\\r\\n</pinch-zoom>\\r\\n\\r\\n<pinch-zoom>\\r\\n< <img src = \\\"{{ getSrc() }}\\\" imageViewer/> >\\r\\n<svg width=\\\"100%\\\" height=\\\"25%\\\">\\r\\n  <image href=\\\"https://kbob.github.io/images/sample-5.jpg\\\" width=\\\"100%\\\" height=\\\"100%\\\"></image>\\r\\n  <circle cx=\\\"150\\\" cy=\\\"150\\\" r=\\\"40\\\" stroke=\\\"green\\\" stroke-width=\\\"4\\\" fill=\\\"yellow\\\" />\\r\\n</svg>\\r\\n</pinch-zoom-->\\r\\n<pinch-zoom>\\r\\n<canvas style = \\\"height:50%; width: 100%\\\" id=\\\"canvas\\\"></canvas>\\r\\n<!--img style = \\\"height:50%; width: 100%\\\" src = \\\"{{ getSrc() }}\\\" imageViewer/-->\\r\\n</pinch-zoom>\\r\\n<br>\\r\\n\\r\\n<div> {{info}} </div>\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-content {\\n  --background: url('/assets/Background2.png') no-repeat center/cover fixed;\\n  --color: #ffffff; }\\n\\nion-header {\\n  --ion-background-color: #262748;\\n  text-align: center;\\n  border-color: red; }\\n\\nion-title {\\n  background-color: #262748;\\n  color: #ffffff;\\n  font-weight: normal;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0; }\\n\\n#backButton {\\n  color: #ffffff;\\n  font-size: 85%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFwLWRpc3BsYXkvQzpcXFVzZXJzXFxTRGVyYVxcRGVza3RvcFxcQm9va0ZpbmRlclByb2plY3RcXGJvb2tpc2gtd2FmZmxlXFxib29rRmluZGVyL3NyY1xcYXBwXFxtYXAtZGlzcGxheVxcbWFwLWRpc3BsYXkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUkseUVBQWE7RUFDYixnQkFBUSxFQUFBOztBQUlaO0VBRUksK0JBQXVCO0VBQ3ZCLGtCQUFrQjtFQUNsQixpQkFBaUIsRUFBQTs7QUFJckI7RUFFSSx5QkFBeUI7RUFDekIsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsT0FBTztFQUNQLFFBQVE7RUFDUixNQUFNO0VBQ04sU0FBUyxFQUFBOztBQUliO0VBRUUsY0FBYztFQUNkLGNBQWMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21hcC1kaXNwbGF5L21hcC1kaXNwbGF5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcclxuICAgIFxyXG4gICAgLS1iYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvQmFja2dyb3VuZDIucG5nJykgbm8tcmVwZWF0IGNlbnRlci9jb3ZlciBmaXhlZDtcclxuICAgIC0tY29sb3I6ICNmZmZmZmY7XHJcblxyXG59XHJcblxyXG5pb24taGVhZGVyIHtcclxuXHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjMjYyNzQ4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYm9yZGVyLWNvbG9yOiByZWQ7XHJcblxyXG59XHJcblxyXG5pb24tdGl0bGUge1xyXG5cclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyNjI3NDg7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBcclxufVxyXG5cclxuI2JhY2tCdXR0b24ge1xyXG5cclxuICBjb2xvcjogI2ZmZmZmZjtcclxuICBmb250LXNpemU6IDg1JTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { PinchZoomModule } from 'ngx-pinch-zoom';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ViewerModalComponent } from 'ngx-ionic-image-viewer';\r\n//import { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\r\n\r\n\r\n@Component({\r\n  \r\n  selector: 'app-map-display',\r\n  templateUrl: './map-display.page.html',\r\n  styleUrls: ['./map-display.page.scss'],\r\n\r\n})\r\nexport class MapDisplayPage implements OnInit \r\n{\r\n\r\n  navCtrl: any;\r\n  images = [];\r\n  current_floor = 5;\r\n  plans: Array<string> = [];\r\n  plan_names: Array<string> = [\"Lower\", \"First\", \"Second\", \"Third\", \"Fourth\"];\r\n  id: any;\r\n  img_src = \"\";\r\n\r\n  dataRecv = \"\";\r\n  bookValues: Array<string> = [\"\", \"\", \"\", \"\"];\r\n\r\n  public info: string = \"\"; //Information variable to display text on the map display page\r\n\r\n  constructor(public activeRoute:ActivatedRoute, public modalController: ModalController) {\r\n    \r\n    for(let i = 0; i < 5; i++) {\r\n\r\n      let plan_uri = \"assets/maps/\".concat(i.toString(), \".png\");\r\n      this.plans.push(plan_uri);\r\n      this.plan_names[i] = this.plan_names[i] + \" Level\";\r\n      this.images.push(this.createImage(this.plans[i], this.plan_names[i]));\r\n\r\n    }\r\n\r\n  }\r\n/*\r\n  async openViewer() {\r\n    const modal = await this.modalController.create({\r\n      component: ViewerModalComponent,\r\n      componentProps: {\r\n        src: this.img_src // required\r\n      },\r\n      cssClass: 'ion-img-viewer', // required\r\n      keyboardClose: true,\r\n      showBackdrop: true\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n*/\r\n  createImage(src: string, title: string) {\r\n\r\n    let img = new Image();\r\n    img.src = src;\r\n    img.alt = title;\r\n    img.title = title;\r\n    return img;\r\n\r\n  }\r\n\r\n  getSrc() {\r\n\r\n    return this.img_src;\r\n\r\n  }\r\n\r\n  showFloor(floor_number: number, arr: Array<String>) {\r\n\r\n    if(floor_number === 5)\r\n      return;\r\n\r\n      let canvas = <HTMLCanvasElement>document.getElementById('canvas');\r\n    let img = this.images[floor_number];\r\n    if ( navigator.platform != \"iPad\" && navigator.platform != \"iPhone\" && navigator.platform != \"iPod\" ) {\r\n\r\n      canvas.height = window.outerHeight/2;\r\n      canvas.width = window.outerWidth;\r\n\r\n    } else {\r\n\r\n      canvas.height = screen.height/2;\r\n      canvas.width = screen.width;\r\n\r\n    }\r\n    \r\n    // Create a context from the canvas, which it moves and rotates before drawing the floor plan onto it\r\n    let ctx = canvas.getContext(\"2d\");\r\n    //ctx.translate(canvas.width,0);\r\n    //ctx.rotate(90*Math.PI/180);\r\n    ctx.scale(0.07, 0.1);\r\n        \r\n    ctx.drawImage(img,0,0);\r\n    //console.log(\"xOffSet: \" + xoffset + \" yOffset: \" + yoffset);\r\n    console.log(\"imgh\" + img.height + \" imgw\" + img.width);\r\n    ctx.beginPath(); //Canvas/Image dimensions: 375(width) by 406(height) \r\n    ctx.arc(325, 275, 45, 0, 2 * Math.PI);//ctx.arc(325, 275, 5, 0, 2 * Math.PI); \r\n    ctx.fillStyle = \"red\";\r\n    ctx.fill();\r\n    // Set title of page\r\n    //document.getElementById(\"floor_name\").innerHTML = this.plan_names[floor_number];\r\n    //if (!document.getElementById(\"floor_number\")) { return; }\r\n\r\n    //console.log(\"This number is \" + floor_number);\r\n    //console.log(\"The plan name is \" + this.plan_names[floor_number]);\r\n    //document.getElementById(\"floor_number\").innerHTML = this.plan_names[floor_number];\r\n\r\n    // Create then adjusts the height and width of the canvas element\r\n  /*\r\n    this.img_src = this.images[floor_number].src;    \r\n    var canvas = document.createElement('canvas');\r\n    document.getElementById(\"canvasContainer\").appendChild(canvas);\r\n    \r\n    var ctx = canvas.getContext('2d');\r\n    var img = document.createElement('img');\r\n    var w = 3520;\r\n    var h = 2376;\r\n*/\r\n    /*\r\n    if ( navigator.platform != \"iPad\" && navigator.platform != \"iPhone\" && navigator.platform != \"iPod\" ) {\r\n\r\n      canvas.height = window.outerHeight/2;\r\n      canvas.width = window.outerWidth;\r\n\r\n    } else {\r\n\r\n      canvas.height = screen.height/2;\r\n      canvas.width = screen.width;\r\n\r\n    }\r\n    */\r\n\r\n/*\r\n    img.onload = function() {\r\n        //alert(\"image is loaded\");\r\n        // get the scale\r\n        var scale = Math.min(canvas.width / img.width, canvas.height / img.height);\r\n        console.log(canvas)\r\n        // get the top left position of the image\r\n        var x = ((canvas.width / 2) - (img.width / 2)) * scale;\r\n        var y = ((canvas.height / 2) - (img.height / 2)) * scale;\r\n        ctx.drawImage(img, x, y, img.width * scale, img.height * scale);\r\n        //ctx.drawImage(img, x+100 , y+100);-\r\n        \r\n        \r\n        var xoffset = 0;\r\n        var xShelfJump = 4;\r\n        var yoffset = 0;\r\n\r\n        // low x is left, high x is right\r\n        // low y is top, high y is bottom\r\n\r\n        var aisleNum = +arr[1]; // Converts string to integer\r\n        var rangeNum = +arr[2]; // Converts string to integer\r\n        switch (arr[0]) */\r\n        { /*\r\n          case '0':\r\n            switch (arr[1]) \r\n            {\r\n              case '1':\r\n                xoffset = 838;\r\n                yoffset = 321;\r\n                break;\r\n            } */\r\n         /* case '1':\r\n            switch (arr[1]) \r\n            { \r\n              case '1':\r\n                xoffset = 896; // 838\r\n                yoffset = 320; // 321\r\n                break;\r\n\r\n              case '2':\r\n                xoffset = 847; // 790\r\n                yoffset = 320; // 321\r\n                break;\r\n\r\n              case '3':\r\n                xoffset = 788; //731\r\n                yoffset = 320;\r\n                break;\r\n\r\n              case '4':\r\n                xoffset = 658; //601\r\n                yoffset = 320;\r\n                break;\r\n\r\n              case '5':\r\n                xoffset = 645; //586\r\n                yoffset = 275;\r\n                break;\r\n\r\n              case '6':\r\n                xoffset = 591; //534\r\n                yoffset = 320;\r\n                break;\r\n\r\n              case '7':\r\n                xoffset = 535; // 475\r\n                yoffset = 320;\r\n                break;\r\n\r\n              default:\r\n                xoffset = 0;\r\n                yoffset = 0;\r\n                break;\r\n            }\r\n            // Determines when to shelf jump for Floor 2\r\n            if (aisleNum <= 3 || aisleNum >= 6) // Bookshelves 1-3, 6-7 use shelfjump\r\n              if (rangeNum > 4)\r\n                yoffset -= xShelfJump;\r\n            if (aisleNum == 5) // Bookshelf 5 uses shelfjump in a different location\r\n              if (rangeNum >= 12)\r\n                yoffset -= xShelfJump;\r\n            if (aisleNum == 7) // Bookshelf 7 uses shelfjump in a different location\r\n              if (rangeNum >= 16) \r\n                yoffset -=xShelfJump;\r\n            break;\r\n\r\n          case '2':\r\n            switch (arr[1]) \r\n            {\r\n\r\n              case '1':\r\n                xoffset = 844; // 786\r\n                yoffset = 330;\r\n                break;\r\n\r\n              case '2':\r\n                xoffset = 782; // 725\r\n                yoffset = 330;\r\n                break;\r\n              \r\n              case '3':\r\n                xoffset = 665; // 607\r\n                yoffset = 307;\r\n                break;\r\n              \r\n              case '4':\r\n                xoffset = 592; // 535\r\n                yoffset = 307;\r\n                break;\r\n              \r\n              case '5':\r\n                xoffset = 533; // 475\r\n                yoffset = 307;\r\n                break;\r\n\r\n              default:\r\n                xoffset = 0;\r\n                yoffset = 0;\r\n                break;\r\n            }\r\n\r\n            // Determines when to shelf jump for Floor 3\r\n            if (aisleNum >= 3)\r\n            {\r\n              if (rangeNum > 12) \r\n              {\r\n                yoffset -= xShelfJump;\r\n                if (aisleNum == 3)\r\n                  xoffset -= 14;\r\n              }\r\n            }\r\n            break;\r\n\r\n          case '3':\r\n            switch (arr[1]) \r\n            {\r\n      \r\n              case '1':\r\n                xoffset = 873; // 656\r\n                yoffset = 311;\r\n                break;\r\n            \r\n              case '2':\r\n                xoffset = 651; //439\r\n                yoffset = 183;\r\n                break;\r\n              \r\n              default:\r\n                xoffset = 0;\r\n                yoffset = 0;\r\n                break;\r\n            }\r\n            break;\r\n        }\r\n        \r\n        \r\n        //yoffset = yoffset - ((Number(arr[2]) - (stackNum + 1)) * 5); //number is the distance between shelves\r\n\r\n        yoffset = yoffset - (Number(arr[2]) * 10.5) + 10.5; // Number is the distance between the shelves.\r\n\r\n        \r\n\r\n        if (arr[3] == 'B') {\r\n\r\n          yoffset = yoffset - 6.5; // 4\r\n          \r\n        }\r\n    \r\n        console.log(\"xOffSet: \" + xoffset + \" yOffset: \" + yoffset);\r\n        console.log(\"imgh\" + img.height + \" imgw\" + img.width);\r\n        ctx.beginPath(); //Canvas/Image dimensions: 375(width) by 406(height) \r\n        ctx.arc(325, 275, 5, 0, 2 * Math.PI);//ctx.arc(325, 275, 5, 0, 2 * Math.PI); \r\n        ctx.fillStyle = \"red\";\r\n        ctx.fill();\r\n\r\n    }; */\r\n\r\n    img.src = this.images[floor_number].src;\r\n/*\r\n    \r\n    //COMMENTED THIS OUT TO CHECK IF RESOLUTION PROBLEM CAN BE SOLVED BY COMPLETING THIS STEP EARLIER\r\n    \r\n    if ( navigator.platform != \"iPad\" && navigator.platform != \"iPhone\" && navigator.platform != \"iPod\" ) {\r\n\r\n      canvas.height = window.outerHeight/2;\r\n      canvas.width = window.outerWidth;\r\n\r\n    } else {\r\n\r\n      canvas.height = screen.height/2;\r\n      canvas.width = screen.width;\r\n\r\n      //screen.width or screen.height/2\r\n\r\n    }\r\n    \r\n    \r\n    img.height = canvas.height;\r\n    img.width = canvas.width;\r\n*/\r\n   // this.img_src = canvas.toDataURL();\r\n   // ctx.scale(.06,.06);\r\n    //canvas.height = 0;\r\n    //canvas.width = 0;\r\n    console.log(\"imgh: \" + canvas.height + \"imgw: \" + canvas.width);\r\n  }\r\n\r\n  }\r\n  decode(arr: Array<String>) {\r\n      this.info = this.info + \"Call Number:\" + '\\n';\r\n      this.info.fontcolor(\"white\");\r\n      this.info = this.info + '\\t' + \"Floor: \" + arr[0] + '\\n';\r\n      this.info = this.info + '\\t' + \"Aisle #: \" + arr[1] + '\\n';\r\n      this.info = this.info + '\\t' + \"Range: \" + arr[2] + '\\n';\r\n      this.info = this.info + '\\t' + \"Side: \" + arr[3] + '\\n';\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.dataRecv = this.activeRoute.snapshot.paramMap.get('data');\r\n    this.dataRecv = this.dataRecv.substr(1);\r\n    this.bookValues = this.dataRecv.split(\",\", 12);\r\n    this.decode(this.bookValues);\r\n\r\n    /* Testing **********/\r\n    this.bookValues[0] = '2'; // Floor\r\n    this.bookValues[1] = '2'; // Aisle\r\n    this.bookValues[2] = '2'; // Range\r\n    this.bookValues[3] = 'A'; // Side\r\n    /********************/\r\n    \r\n    setTimeout(() => this.showFloor(Number(this.bookValues[0]), this.bookValues), 500);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}